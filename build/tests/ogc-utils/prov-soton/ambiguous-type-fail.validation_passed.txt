Validation report for ogc.ogc-utils.prov-soton - 2024 w3c
Generated 2025-11-02T06:37:36.068881+00:00
=== General ===
Test was expected to fail and it did.
=== End General ===

=== Files ===
Using ambiguous-type-fail.json from test resources
JSON-LD context is present - uplifting
=== End Files ===

=== JSON Schema ===

** Validation error **
ValidationError: '@graph' is a required property

Failed validating 'required' in schema['allOf'][1]:
    {'additionalProperties': False,
     'properties': {'@context': {'$ref': '#/definitions/Context'},
                    '@graph': {'items': {'$ref': '#/definitions/prov:StatementOrBundle'},
                               'type': 'array'},
                    '@type': {'pattern': 'Document'}},
     'required': ['@context', '@graph'],
     'type': 'object'}

On instance:
    {'@context': {'@base': 'https://example.org/',
                  'agents': 'https://someagentregister.eg/',
                  'foaf': 'http://xmlns.com/foaf/0.1/',
                  'surveyreg': 'https://example.org/surveys/',
                  'thing': 'https://example.org/entities/'},
     'featureType': 'Survey',
     'id': 'DP-1',
     'provenance': [{'id': 'DP-2223',
                     'type': 'Entity',
                     'wasGeneratedBy': 'thing:DP-1-S1'},
                    {'endedAtTime': '2023-10-05',
                     'id': 'thing:DP-1-S1',
                     'type': 'Activity',
                     'used': {'id': 'Act3',
                              'links': [{'href': 'https://some.gov/linktoact/',
                                         'rel': 'related'}],
                              'type': 'Entity',
                              'wasAttributedTo': 'agents:nz'},
                     'wasAssociatedWith': 'agents:ah-2344503'}],
     'type': 'Feature',
     'wasGeneratedBy': ['surveyreg:DP-1-S1',
                        {'activity': 'Registration',
                         'endedAtTime': '2029-01-01',
                         'id': 'surveyreg:DP-1-S2',
                         'used': {'id': 'Example-Act',
                                  'links': [{'href': 'https://nze.gov/linktoact/Example1',
                                             'rel': 'related'}],
                                  'wasAttributedTo': 'agents:nz'},
                         'wasAssociatedWith': 'agents:bc-3',
                         'wasGeneratedBy': 'surveyreg:DP-1-S1'}]}
=== End JSON Schema ===

=== JSON-LD ===

** Validation error **
Error found when uplifting JSON-LD: Failed to convert Literal lexical form to value. Datatype=http://www.w3.org/2001/XMLSchema#dateTime, Converter=<function parse_datetime at 0x7f1a909960e0>
Traceback (most recent call last):
  File "/venv/lib/python3.10/site-packages/isodate/isodatetime.py", line 51, in parse_datetime
    datestring, timestring = datetimestring.split('T')
ValueError: not enough values to unpack (expected 2, got 1)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/venv/lib/python3.10/site-packages/rdflib/term.py", line 2084, in _castLexicalToPython
    return conv_func(lexical)  # type: ignore[arg-type]
  File "/venv/lib/python3.10/site-packages/isodate/isodatetime.py", line 53, in parse_datetime
    raise ISO8601Error("ISO 8601 time designator 'T' missing. Unable to"
isodate.isoerror.ISO8601Error: ISO 8601 time designator 'T' missing. Unable to parse datetime string '2029-01-01'

=== End JSON-LD ===

